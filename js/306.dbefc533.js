"use strict";(self["webpackChunkproject_macaron"]=self["webpackChunkproject_macaron"]||[]).push([[306],{1122:function(e,t,o){o.d(t,{Z:function(){return i}});var n=o(3396);const s={class:"d-none"};function a(e,t,o,a,r,c){return(0,n.wg)(),(0,n.iD)("p",s,"購物車資訊")}var r={inject:["emitter"],methods:{getCartInfo(){this.emitter.emit("getCartInfo")}},created(){this.emitter.on("cartInfo",(e=>{this.$emit("updateInfo",e)})),this.getCartInfo()}},c=o(89);const l=(0,c.Z)(r,[["render",a]]);var i=l},7306:function(e,t,o){o.r(t),o.d(t,{default:function(){return D}});var n=o(3396);const s={class:"mt-5"};function a(e,t,o,a,r,c){const l=(0,n.up)("CartInfo"),i=(0,n.up)("CheckStep"),p=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(l,{onUpdateInfo:c.updateInfo},null,8,["onUpdateInfo"]),r.step<4?((0,n.wg)(),(0,n.j4)(i,{key:0,step:r.step},null,8,["step"])):(0,n.kq)("",!0),r.getDataComplete?((0,n.wg)(),(0,n.j4)(p,{key:1,"cart-info":r.cartInfo},null,8,["cart-info"])):(0,n.kq)("",!0)])}var r=o(7139);const c={class:"container"},l=(0,n._)("h5",{class:"mb-0 fw-bolder text-center"},"結帳",-1),i={class:"d-none d-md-flex justify-content-between mt-2"},p={class:"m-0 text-white"},d={class:"mb-0"},u={class:"accordion d-md-none mt-2 rounded overflow-hidden border",id:"accordionStep"},f={class:"accordion-item border-0 rounded-0"},h={key:0,class:"accordion-header"},g={class:"accordion-body"},m={class:"mb-0"};function w(e,t,o,s,a,w){return(0,n.wg)(),(0,n.iD)("div",c,[l,(0,n._)("div",i,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.stepInfo,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:(0,r.C_)(["d-flex flex-column align-items-center w-100",{stepLine:t<a.stepInfo.length-1,stepLineEnable:o.step<t+2}])},[(0,n._)("div",{class:(0,r.C_)(["rounded-circle text-center mb-2",o.step>t?"stepEnable":"stepDisable"]),style:{width:"25px",height:"25px"}},[(0,n._)("p",p,(0,r.zw)(t+1),1)],2),(0,n._)("p",d,(0,r.zw)(e),1)],2)))),128))]),(0,n._)("div",u,[(0,n._)("div",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.stepInfo,((e,s)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:"accordionStepInfo"+s},[o.step===s+1?((0,n.wg)(),(0,n.iD)("h2",h,[(0,n._)("button",{type:"button",class:"accordion-button collapsed rounded-0 fw-bolder collapseStepBtn bg-white stepsBtn",onClick:t[0]||(t[0]=(...e)=>w.toggleCollapse&&w.toggleCollapse(...e))},(0,r.zw)(`STEP ${s+1}：${e}`),1)])):((0,n.wg)(),(0,n.iD)("div",{key:1,class:"accordion-collapse collapse rounded-0 collapseStep",style:(0,r.j5)({color:o.step!==s+1?"var(--bs-gray)":"var(--bs-dark)"}),"data-bs-parent":"#accordionStep"},[(0,n._)("div",g,[(0,n._)("p",m,(0,r.zw)(`STEP ${s+1}：${e}`),1)])],4))],64)))),128))])])])}var b={data(){return{stepInfo:["確認明細、輸入優惠碼","填寫訂購人資料","付款","訂單完成"]}},props:["step"],methods:{toggleCollapse(){document.querySelectorAll(".collapseStep").forEach((e=>e.classList.toggle("show"))),document.querySelector(".collapseStepBtn").classList.toggle("collapsed")}}},I=o(89);const v=(0,I.Z)(b,[["render",w]]);var C=v,k=o(1122),S={data(){return{cartInfo:{},getDataComplete:!1,stepArr:["check","purchaserData","payment","complete"],step:3}},components:{CartInfo:k.Z,CheckStep:C},methods:{updateInfo(e){this.cartInfo=e},setStep(){this.step=this.stepArr.indexOf(this.$route.name)+1}},watch:{cartInfo(){this.step<3&&this.cartInfo.carts&&this.cartInfo.carts.length<1?this.$router.replace("/cart"):this.getDataComplete=!0}},updated(){this.setStep()},created(){this.setStep()}};const y=(0,I.Z)(S,[["render",a]]);var D=y}}]);
//# sourceMappingURL=306.dbefc533.js.map